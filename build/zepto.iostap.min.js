// zepto.iostap - v0.0.3 - MIT
// A micro-library for iOS-like tap events in the browser
// https://github.com/stephenhutchings/zepto.iostap
!function(t,n){var o,e,r,u,i,s,c,l,a,f,d,h,g,p,v,y,b,w,x,C,M,N;w={},c="ontouchstart"in t,N=c?"touchstart":"mousedown",M=c?"touchmove":"mousemove",C=c?"touchend":"mouseup",x=c?"touchcancel":void 0,a=Math.pow(t.innerHeight*t.innerWidth,.35),y=a/5,o="__active",i="iostap",l=100,f=!1,v=function(t){return"tagName"in t?t:t.parentNode},s=function(t){return c?t.touches[0]:t},r=function(){var t,n,o,e,r,u;for(r=w.scrollParents,u=[],n=o=0,e=r.length;e>o;n=++o)t=r[n],u.push(Math.abs(w.scrollOffsets[n]-t.scrollTop)>y?f=!1:void 0);return u},b=function(t){return w.el&&"string"==typeof w.el.get(0).className?(f=Math.abs(w.x1-w.x2)<a&&Math.abs(w.y1-w.y2)<a&&!t,r(),w.el.toggleClass(o,f).parents().toggleClass(o,f)):void 0},e=function(){return $(n.body).on(M,g).on(C,h),x?$(n.body).on(x,d):void 0},u=function(){return $(n.body).off(M,g).off(C,h),x?$(n.body).off(x,d):void 0},p=function(n){var o;return o=s(n),w={el:$(v(o.target)),x1:o.clientX,y1:o.clientY,scrollParents:[],scrollOffsets:[]},w.el.parents().each(function(){return"scroll"===t.getComputedStyle(this).overflow?(w.scrollParents.push(this),w.scrollOffsets.push(this.scrollTop)):void 0}),b(!1),g(n),e()},g=function(t){var n;return n=s(t),w.x2=n.clientX,w.y2=n.clientY,b(!1)},h=function(){return r(),f&&w.el.trigger(i),t.setTimeout(function(){b(!0),w={}},l),u()},d=function(){return b(!0),w={},u()},$(n).ready(t.getComputedStyle?function(){return $(n.body).on(N,p)}:function(){return $(n.body).on("click",function(t){return $(t.target).trigger("iostap")})}),$.fn[i]=function(t){return this.on(m,t)}}(window,document);