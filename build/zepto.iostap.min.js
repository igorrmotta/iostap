// zepto.iostap - v0.0.1 - MIT
// A micro-library for iOS-like tap events in the browser
// https://github.com/stephenhutchings/zepto.iostap
!function(t,n){var e,o,r,s,u,c,i,l,a,f,h,g,p,d,v,y,b,w,C;v={},u="ontouchstart"in t,C=u?"touchstart":"mousedown",w=u?"touchmove":"mousemove",b=u?"touchend":"mouseup",y=u?"touchcancel":"mouseup",c=Math.pow(t.innerHeight*t.innerWidth,.35),p=c/5,e="__active",r="iostap",i=!1,g=function(t){return"tagName"in t?t:t.parentNode},s=function(t){return u?t.touches[0]:t},o=function(){var t,n,e,o,r,s;if(v.scrollParents){for(r=v.scrollParents,s=[],n=e=0,o=r.length;o>e;n=++e)t=r[n],s.push(Math.abs(v.scrollOffsets[n]-t.scrollTop)>p?i=!1:void 0);return s}},d=function(t){return v.el&&"string"==typeof v.el.get(0).className?(i=Math.abs(v.x1-v.x2)<c&&Math.abs(v.y1-v.y2)<c&&!t,o(),v.el.toggleClass(e,i),v.el.parents().toggleClass(e,i)):void 0},h=function(n){var e;return e=s(n),v={el:$(g(e.target)),x1:e.clientX,y1:e.clientY,scrollParents:[],scrollOffsets:[]},v.el.parents().each(function(){return"scroll"===("function"==typeof t.getComputedStyle?t.getComputedStyle(this).overflow:void 0)?(v.scrollParents.push(this),v.scrollOffsets.push(this.scrollTop)):void 0}),d(!1),f(n)},f=function(t){var n;return n=s(t),v.x2=n.clientX,v.y2=n.clientY,d(!1)},a=function(){return o(),i&&v.el.trigger(r),t.setTimeout(function(){d(!0),v={}},100)},l=function(){d(!0),v={}},$(n).ready(t.getComputedStyle?function(){return $(n.body).on(C,h).on(w,f).on(b,a).on(y,l)}:function(){return $("body").on("click",function(t){return $(t.target).trigger("iostap")})}),$.fn[r]=function(t){return this.on(m,t)}}(window,document);