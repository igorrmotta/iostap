// zepto.iostap - v0.0.3 - MIT
// A micro-library for iOS-like tap events in the browser
// https://github.com/stephenhutchings/zepto.iostap
!function(t,n){var e,o,r,s,i,u,c,l,a,f,h,d,g,p,v,y,b,w,C,x;y={},i="ontouchstart"in t,x=i?"touchstart":"mousedown",C=i?"touchmove":"mousemove",w=i?"touchend":"mouseup",b=i?"touchcancel":void 0,c=Math.pow(t.innerHeight*t.innerWidth,.35),p=c/5,e="__active",r="iostap",u=100,l=!1,g=function(t){return"tagName"in t?t:t.parentNode},s=function(t){return i?t.touches[0]:t},o=function(){var t,n,e,o,r,s;if(y.scrollParents){for(r=y.scrollParents,s=[],n=e=0,o=r.length;o>e;n=++e)t=r[n],s.push(Math.abs(y.scrollOffsets[n]-t.scrollTop)>p?l=!1:void 0);return s}},v=function(t){return y.el&&"string"==typeof y.el.get(0).className?(l=Math.abs(y.x1-y.x2)<c&&Math.abs(y.y1-y.y2)<c&&!t,o(),y.el.toggleClass(e,l),y.el.parents().toggleClass(e,l)):void 0},d=function(n){var e;return e=s(n),y={el:$(g(e.target)),x1:e.clientX,y1:e.clientY,scrollParents:[],scrollOffsets:[]},y.el.parents().each(function(){return"scroll"===("function"==typeof t.getComputedStyle?t.getComputedStyle(this).overflow:void 0)?(y.scrollParents.push(this),y.scrollOffsets.push(this.scrollTop)):void 0}),v(!1),h(n)},h=function(t){var n;return n=s(t),y.x2=n.clientX,y.y2=n.clientY,v(!1)},f=function(){return o(),l&&y.el.trigger(r),t.setTimeout(function(){v(!0),y={}},u)},a=function(){v(!0),y={}},$(n).ready(t.getComputedStyle?function(){return $(n.body).on(x,d).on(C,h).on(w,f),b?$(n.body).on(b,a):void 0}:function(){return $("body").on("click",function(t){return $(t.target).trigger("iostap")})}),$.fn[r]=function(t){return this.on(m,t)}}(window,document);