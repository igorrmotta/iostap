// zepto.iostap - v0.0.3 - MIT
// A micro-library for iOS-like tap events in the browser
// https://github.com/stephenhutchings/zepto.iostap
!function(t,n){var o,e,r,u,i,s,c,l,f,a,d,h,g,p,y,v,b,w,C,x,M,P;w={},c="ontouchstart"in t,P=c?"touchstart":"mousedown",M=c?"touchmove":"mousemove",x=c?"touchend":"mouseup",C=c?"touchcancel":void 0,f=Math.pow(t.innerHeight*t.innerWidth,.35),v=f/5,o="__active",i="iostap",l=100,a=!1,y=function(t){return"tagName"in t?t:t.parentNode},s=function(t){return c?t.touches[0]:t},r=function(){var t,n,o,e,r,u;if(w.scrollParents){for(r=w.scrollParents,u=[],n=o=0,e=r.length;e>o;n=++o)t=r[n],u.push(Math.abs(w.scrollOffsets[n]-t.scrollTop)>v?a=!1:void 0);return u}},b=function(t){return w.el&&"string"==typeof w.el.get(0).className?(a=Math.abs(w.x1-w.x2)<f&&Math.abs(w.y1-w.y2)<f&&!t,r(),w.el.toggleClass(o,a),w.el.parents().toggleClass(o,a)):void 0},e=function(){return $(n.body).on(M,g).on(x,h),C?$(n.body).on(C,d):void 0},u=function(){return $(n.body).off(M,g).off(x,h),C?$(n.body).off(C,d):void 0},p=function(n){var o;return o=s(n),w={el:$(y(o.target)),x1:o.clientX,y1:o.clientY,scrollParents:[],scrollOffsets:[]},w.el.parents().each(function(){return"scroll"===("function"==typeof t.getComputedStyle?t.getComputedStyle(this).overflow:void 0)?(w.scrollParents.push(this),w.scrollOffsets.push(this.scrollTop)):void 0}),b(!1),g(n),e()},g=function(t){var n;return n=s(t),w.x2=n.clientX,w.y2=n.clientY,b(!1)},h=function(){return r(),a&&w.el.trigger(i),t.setTimeout(function(){b(!0),w={}},l),u()},d=function(){return b(!0),w={},u()},$(n).ready(t.getComputedStyle?function(){return $(n.body).on(P,p)}:function(){return $("body").on("click",function(t){return $(t.target).trigger("iostap")})}),$.fn[i]=function(t){return this.on(m,t)}}(window,document);